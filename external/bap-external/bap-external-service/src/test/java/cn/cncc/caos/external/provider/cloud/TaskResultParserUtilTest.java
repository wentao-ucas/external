package cn.cncc.caos.external.provider.cloud;

import cn.cncc.caos.external.client.cloud.api.ICloudAuthService;
import cn.cncc.caos.external.client.cloud.dto.TokenCacheItem;
import cn.cncc.caos.external.provider.cloud.model.FieldParseResult;
import cn.cncc.caos.external.provider.cloud.util.TaskResultParserUtil;
import org.junit.Test;
import org.springframework.beans.factory.annotation.Autowired;

import java.io.IOException;
import java.util.List;

import static org.junit.Assert.assertEquals;
import static org.junit.Assert.assertNotNull;

/**
 * @className: CloudAuthServiceTest
 * @Description: TODO
 * @version: v1.0.0
 * @author: dengjq
 * @date: 2024/11/20 10:24
 */
public class TaskResultParserUtilTest extends BaseTest {
  @Autowired
  private TaskResultParserUtil taskResultParserUtil;

  private String taskInstId = "123456";
  private String httpResult = "{\"totalSize\":36,\"pageNo\":1,\"datas\":[{\"jvm_threads_current\":40.89875030517578,\"db_service_total\":50.0,\"db_schema_total\":730.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":708.8157348632812,\"db_abnormal_instance_percent\":0.0,\"nonheap\":80896468,\"db_instance_total\":45.0,\"load_average\":0.15489120327401906,\"http_tps\":1.5993453860282898,\"http_query_per_seconds\":7.433079719543457,\"name\":\"s-cse-tran-1\",\"id\":\"0DFF19CF56CB378CA3E853561CD9242A\",\"heap\":50415636,\"http_request_total\":316982816,\"http_success_total\":316982816,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":42.41666603088379,\"db_service_total\":228.0,\"db_schema_total\":3050.0,\"CountUsed\":2.0,\"http_request_durations_microseconds\":531.2265014648438,\"db_abnormal_instance_percent\":0.0,\"nonheap\":83602936,\"db_instance_total\":180.8327407836914,\"load_average\":0.39959840942174196,\"http_tps\":6.898766279220581,\"http_query_per_seconds\":17.6569504737854,\"name\":\"SH-CSE-821\",\"id\":\"1EC1780B0389311FB83784C166660E2A\",\"heap\":52109936,\"http_request_total\":5.6535296E+8,\"http_success_total\":5.6535296E+8,\"PercentageUsage\":0.10008333482255694},{\"jvm_threads_current\":40.89311599731445,\"db_service_total\":56.0,\"db_schema_total\":777.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":524.6456298828125,\"db_abnormal_instance_percent\":0.0,\"nonheap\":80439588,\"db_instance_total\":80.0,\"load_average\":0.2946242071921006,\"http_tps\":2.7662878036499023,\"http_query_per_seconds\":7.34994649887085,\"name\":\"j2-s-cse-tran-1\",\"id\":\"2479FA471C4B3148800B96A50611DA4C\",\"heap\":30546975,\"http_request_total\":173187304,\"http_success_total\":173187288,\"PercentageUsage\":0.0},{\"jvm_threads_current\":40.87941551208496,\"db_service_total\":18.0,\"db_schema_total\":422.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":590.6658020019531,\"db_abnormal_instance_percent\":0.0,\"nonheap\":8.08633E+7,\"db_instance_total\":11.0,\"load_average\":0.6185883769067004,\"http_tps\":0.46666666865348816,\"http_query_per_seconds\":1.112418293952942,\"name\":\"cse-nets-beps\",\"id\":\"25A04545786E30ADAB2B24EEF64B2013\",\"heap\":32210642,\"http_request_total\":4524204.5,\"http_success_total\":4524204.5,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":37.6865234375,\"db_service_total\":26.0,\"db_schema_total\":213.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":6526.47509765625,\"db_abnormal_instance_percent\":0.0,\"nonheap\":84720872,\"db_instance_total\":73.5,\"load_average\":0.29163552075624466,\"http_tps\":0.8663120567798615,\"http_query_per_seconds\":2.075607180595398,\"name\":\"SH-CSE\",\"id\":\"380068246C99315FAC601997351F0BD5\",\"heap\":124747303,\"http_request_total\":223464436.99468088,\"http_success_total\":445411808,\"PercentageUsage\":0.0},{\"jvm_threads_current\":39.79669380187988,\"db_service_total\":12.0,\"db_schema_total\":30.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":383.70367431640625,\"db_abnormal_instance_percent\":0.0,\"nonheap\":87839656,\"db_instance_total\":13.0,\"load_average\":0.8482194989919662,\"http_tps\":0.4329710155725479,\"http_query_per_seconds\":3.44596791267395,\"name\":\"cse-ibps\",\"id\":\"3E23ED7B0C8533A9979D388A3D39EBAB\",\"heap\":88457155,\"http_request_total\":13599581.994565248,\"http_success_total\":27199151,\"PercentageUsage\":0.0},{\"jvm_threads_current\":40.89021110534668,\"db_service_total\":19.0,\"db_schema_total\":200.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":444.04693603515625,\"db_abnormal_instance_percent\":0.0,\"nonheap\":80864492,\"db_instance_total\":19.0,\"load_average\":0.17660071729915217,\"http_tps\":0.7330128252506256,\"http_query_per_seconds\":5.392364740371704,\"name\":\"cse-fxccr1\",\"id\":\"42DB3516387036359F78B112F5B87F48\",\"heap\":30219401,\"http_request_total\":163487352,\"http_success_total\":163487352,\"PercentageUsage\":0.0},{\"jvm_threads_current\":42.876482009887695,\"db_service_total\":133.0,\"db_schema_total\":1695.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":704.7711486816406,\"db_abnormal_instance_percent\":0.0,\"nonheap\":83252592,\"db_instance_total\":63.0,\"load_average\":0.1491755018942058,\"http_tps\":2.859351634979248,\"http_query_per_seconds\":4.961412668228149,\"name\":\"cse-gn-bj\",\"id\":\"45107DCA93953B28995E47214E4FB4C9\",\"heap\":54994394,\"http_request_total\":440325056,\"http_success_total\":440324928,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":34.01888942718506,\"db_service_total\":3.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":352.9505310058594,\"db_abnormal_instance_percent\":0.0,\"nonheap\":83246354,\"db_instance_total\":4.0,\"load_average\":1.3989067673683167,\"http_tps\":0.13333334028720856,\"http_query_per_seconds\":0.1446666717529297,\"name\":\"cse-fxcc\",\"id\":\"592D585525F43F718262C79F7B7CE85F\",\"heap\":86262941,\"http_request_total\":763942.65625,\"http_success_total\":1527881.3125,\"PercentageUsage\":0.0},{\"jvm_threads_current\":42.85000038146973,\"db_service_total\":104.0,\"db_schema_total\":1416.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":649.5527648925781,\"db_abnormal_instance_percent\":0.0,\"nonheap\":82024704,\"db_instance_total\":47.0,\"load_average\":0.21995172766037285,\"http_tps\":1.6659545302391052,\"http_query_per_seconds\":5.259920597076416,\"name\":\"cse-gn-sh\",\"id\":\"75F04D2E2347313A8E6FB92043DEC4A1\",\"heap\":63392946,\"http_request_total\":4.0655504E+8,\"http_success_total\":4.0655504E+8,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":39.91749954223633,\"CountUsed\":0.0,\"http_request_durations_microseconds\":422.19952392578125,\"nonheap\":80558288,\"load_average\":0.32433110085548833,\"http_tps\":0.10000000149011612,\"http_query_per_seconds\":0.20942029356956482,\"name\":\"cse-test\",\"id\":\"91B7AA3FAF8D3B8184E62314483EB4EA\",\"heap\":41684878,\"http_request_total\":1881864.4375,\"http_success_total\":1881864.4375,\"PercentageUsage\":0.0},{\"jvm_threads_current\":43.242361068725586,\"db_service_total\":37.0,\"db_schema_total\":532.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":648.3787231445312,\"db_abnormal_instance_percent\":0.0,\"nonheap\":83003076,\"db_instance_total\":64.0,\"load_average\":0.21741630416363478,\"http_tps\":2.2308510541915894,\"http_query_per_seconds\":4.44195818901062,\"name\":\"cse-xn-bj-821\",\"id\":\"9B670FB713533AC7AA1334CF74A18574\",\"heap\":51979462,\"http_request_total\":124468982,\"http_success_total\":124468982,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":43.401960372924805,\"db_service_total\":18.0,\"db_schema_total\":178.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":520.2765960693359,\"db_abnormal_instance_percent\":0.0,\"nonheap\":81418612,\"db_instance_total\":18.0,\"load_average\":0.4160323548130691,\"http_tps\":0.6989583075046539,\"http_query_per_seconds\":3.879931926727295,\"name\":\"cse-ibps\",\"id\":\"A05BB47D3DDA3692A4B48A34D5853295\",\"heap\":31275148,\"http_request_total\":62032938,\"http_success_total\":62032938,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":42.740989685058594,\"db_service_total\":19.0,\"db_schema_total\":200.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":566.9517517089844,\"db_abnormal_instance_percent\":0.0,\"nonheap\":8.192166E+7,\"db_instance_total\":38.0,\"load_average\":0.10369306080974638,\"http_tps\":1.5333333015441895,\"http_query_per_seconds\":7.6807074546813965,\"name\":\"cse-xn-sh-821\",\"id\":\"D1C7F47ECA533EAF85B844F70B286056\",\"heap\":53076922,\"http_request_total\":2.0646708E+8,\"http_success_total\":2.0646708E+8,\"PercentageUsage\":0.0},{\"jvm_threads_current\":40.88167190551758,\"db_service_total\":48.0,\"db_schema_total\":715.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":920.4180297851562,\"db_abnormal_instance_percent\":0.0,\"nonheap\":80516852,\"db_instance_total\":40.0,\"load_average\":0.22934925998561084,\"http_tps\":1.4990622401237488,\"http_query_per_seconds\":4.764744997024536,\"name\":\"b-cse-tran-1\",\"id\":\"D1E6D9844F083D8A937712E956EA0FDF\",\"heap\":3.089237E+7,\"http_request_total\":201090656,\"http_success_total\":201090656,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":35.027777671813965,\"db_service_total\":3.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":303.32298278808594,\"db_abnormal_instance_percent\":0.0,\"nonheap\":83780172,\"db_instance_total\":4.0,\"load_average\":0.7999929040670395,\"http_tps\":0.13333334028720856,\"http_query_per_seconds\":0.14305556565523148,\"name\":\"cse-cfxps\",\"id\":\"D540D65BBA8D3DC5BBBC51813334AEFA\",\"heap\":83317347,\"http_request_total\":521878.3125,\"http_success_total\":1043752.625,\"PercentageUsage\":0.0},{\"jvm_threads_current\":42.02000045776367,\"db_service_total\":203.0,\"db_schema_total\":2854.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":580.2630004882812,\"db_abnormal_instance_percent\":0.0,\"nonheap\":82903912,\"db_instance_total\":137.0,\"load_average\":0.3030095910653472,\"http_tps\":4.760496616363525,\"http_query_per_seconds\":11.097126960754395,\"name\":\"BJ-CSE-821\",\"id\":\"D860E33271863B26AFA71665A419BC43\",\"heap\":75885104,\"http_request_total\":4.0816176E+8,\"http_success_total\":4.0816176E+8,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":43.18524169921875,\"db_service_total\":20.0,\"db_schema_total\":223.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":556.310791015625,\"db_abnormal_instance_percent\":0.0,\"nonheap\":80840704,\"load_average\":0.5305344007210806,\"http_tps\":0.10000000149011612,\"http_query_per_seconds\":0.21111111342906952,\"name\":\"j2-b-cse-tran-1\",\"id\":\"DEC69100E6CC38649ED98BC62BF9EEB5\",\"heap\":31931527,\"http_request_total\":70974524,\"http_success_total\":70974516,\"PercentageUsage\":0.0},{\"jvm_threads_current\":41.31357765197754,\"db_service_total\":18.0,\"db_schema_total\":178.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":520.6011047363281,\"db_abnormal_instance_percent\":0.0,\"nonheap\":8.139762E+7,\"db_instance_total\":18.0,\"load_average\":0.5795127672026865,\"http_tps\":0.699999988079071,\"http_query_per_seconds\":3.5504761934280396,\"name\":\"cse-sh\",\"id\":\"E572966A979A33CF9AFC52B9F70B7268\",\"heap\":3.211147E+7,\"http_request_total\":47554172,\"http_success_total\":47554172,\"PercentageUsage\":0.0},{\"jvm_threads_current\":34.76450538635254,\"db_service_total\":3.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":342.8189697265625,\"db_abnormal_instance_percent\":0.0,\"nonheap\":8.359071E+7,\"db_instance_total\":4.0,\"load_average\":1.2009478956460953,\"http_tps\":0.13333334028720856,\"http_query_per_seconds\":0.14552845805883408,\"name\":\"cse-r2ibps\",\"id\":\"FE1CFF031F5E30B28349F60DB20B465A\",\"heap\":84821879,\"http_request_total\":751298.6875,\"http_success_total\":1502593.375,\"PercentageUsage\":0.0},{\"jvm_threads_current\":42.779998779296875,\"db_service_total\":42.0,\"db_schema_total\":655.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":383.3309020996094,\"db_abnormal_instance_percent\":0.0,\"nonheap\":81421152,\"db_instance_total\":14.0,\"load_average\":0.33873671176843345,\"http_tps\":0.5666666626930237,\"http_query_per_seconds\":5.1192307472229,\"name\":\"cse-beps\",\"id\":\"0E7C5587520D3C6FAE9EB2532E525FB9\",\"heap\":56551436,\"http_request_total\":296775936,\"http_success_total\":296775936,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":39.80392074584961,\"db_service_total\":11.0,\"db_schema_total\":34.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":370.0512390136719,\"db_abnormal_instance_percent\":0.0,\"nonheap\":8.094124E+7,\"db_instance_total\":11.0,\"load_average\":0.2416310217231512,\"http_tps\":0.9666666388511658,\"http_query_per_seconds\":7.213071823120117,\"name\":\"cse-ibps\",\"id\":\"1C7A8967E2BC3D83A7169E5027F672C4\",\"heap\":49145264,\"http_request_total\":1.304084E+8,\"http_success_total\":1.304084E+8,\"PercentageUsage\":0.0},{\"jvm_threads_current\":40.849056243896484,\"CountUsed\":0.0,\"http_request_durations_microseconds\":412.253662109375,\"nonheap\":80917504,\"load_average\":0.28174423915334046,\"http_tps\":0.10000000149011612,\"http_query_per_seconds\":0.22012579441070557,\"name\":\"cse-qsatw0\",\"id\":\"493A3FCA7A6436F98D07460CA5276DF1\",\"heap\":59563796,\"http_request_total\":6799698.5,\"http_success_total\":6799698.5,\"PercentageUsage\":0.0},{\"jvm_threads_current\":41.826087951660156,\"db_service_total\":31.0,\"db_schema_total\":373.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":404.259033203125,\"db_abnormal_instance_percent\":0.0,\"nonheap\":81623872,\"db_instance_total\":14.0,\"load_average\":0.2856130425352603,\"http_tps\":1.0326796770095825,\"http_query_per_seconds\":5.82608699798584,\"name\":\"cse-g9vvb7\",\"id\":\"4B88BA4B3E583B019154851CDFA2C7D1\",\"heap\":53254488,\"http_request_total\":238352448,\"http_success_total\":238352448,\"PercentageUsage\":0.0},{\"jvm_threads_current\":41.85714340209961,\"db_service_total\":19.0,\"db_schema_total\":200.0,\"CountUsed\":1.0,\"http_request_durations_microseconds\":308.5632629394531,\"db_abnormal_instance_percent\":0.0,\"nonheap\":8.14436E+7,\"db_instance_total\":19.0,\"load_average\":0.2340153472032398,\"http_tps\":1.359477162361145,\"http_query_per_seconds\":12.63265323638916,\"name\":\"cse-cfxps\",\"id\":\"55DA633208293413B4BEF8F00B8D16D6\",\"heap\":49838296,\"http_request_total\":349610176,\"http_success_total\":349610176,\"PercentageUsage\":0.00004166666622040793},{\"jvm_threads_current\":41.914894104003906,\"db_service_total\":11.0,\"db_schema_total\":34.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":373.0579833984375,\"db_abnormal_instance_percent\":0.3636363744735718,\"nonheap\":81189008,\"db_instance_total\":11.0,\"load_average\":0.37489822949282825,\"http_tps\":1.100000023841858,\"http_query_per_seconds\":7.222727298736572,\"name\":\"cse-ibps\",\"id\":\"619D3247EC163B86ACD5527952302027\",\"heap\":49922928,\"http_request_total\":150120736,\"http_success_total\":150120736,\"PercentageUsage\":0.0},{\"jvm_threads_current\":39.89130401611328,\"db_service_total\":16.0,\"db_schema_total\":142.0,\"CountUsed\":0.0,\"http_request_durations_microseconds\":397.5453186035156,\"db_abnormal_instance_percent\":0.0,\"nonheap\":80621432,\"load_average\":0.5629853401333094,\"http_tps\":0.10000000149011612,\"http_query_per_seconds\":0.22173914313316345,\"name\":\"cse-fxcc\",\"id\":\"F9B9BC605B9C38449DBA353AE72B5832\",\"heap\":5.151252E+7,\"http_request_total\":5259354.0,\"http_success_total\":5259354.0,\"PercentageUsage\":0.0},{\"db_service_total\":321.0,\"db_schema_total\":4919.0,\"http_request_durations_microseconds\":12383.72119140625,\"db_abnormal_instance_percent\":0.0,\"db_instance_total\":143.0,\"http_query_per_seconds\":7.804738521575928,\"name\":\"SH-CSE-CFIT\",\"id\":\"09C35BA786F03CE5BA6712B57CF364D0\",\"http_request_total\":731693568,\"http_success_total\":731393248},{\"db_service_total\":45.0,\"db_schema_total\":423.0,\"http_request_durations_microseconds\":626.35986328125,\"db_abnormal_instance_percent\":0.46875,\"db_instance_total\":22.0,\"http_query_per_seconds\":1.8614020943641663,\"name\":\"cse-ywcsb-bj\",\"id\":\"21BF993C6B103B8F9510593DE8F8B140\",\"http_request_total\":170591072,\"http_success_total\":170590904},{\"http_request_durations_microseconds\":4011.4825439453125,\"http_query_per_seconds\":0.14400000870227814,\"name\":\"cse-ibps\",\"id\":\"5343287CA18635E88E238E91ACF485E3\",\"http_request_total\":4953368.0,\"http_success_total\":4953368.0},{\"db_service_total\":21.0,\"db_schema_total\":238.0,\"http_request_durations_microseconds\":554.9222412109375,\"db_abnormal_instance_percent\":0.2857142984867096,\"http_query_per_seconds\":0.10703546740114689,\"name\":\"cse-fxps811\",\"id\":\"5EF5A14612D63B1E8118BD83D89177C0\",\"http_request_total\":6424622.0,\"http_success_total\":6424621.5},{\"http_request_durations_microseconds\":868.8262023925781,\"db_abnormal_instance_percent\":0.7620535790920258,\"http_query_per_seconds\":0.14444445073604584,\"name\":\"cse-ywcsb-sh\",\"id\":\"619546F9A33E3589AEC6D042BB02C93B\",\"http_request_total\":13630252.5,\"http_success_total\":13630163.5},{\"db_service_total\":138.0,\"db_schema_total\":1570.0,\"http_request_durations_microseconds\":20253.08984375,\"db_abnormal_instance_percent\":0.0,\"db_instance_total\":46.0,\"http_query_per_seconds\":3.3036521673202515,\"name\":\"BJ-CSE-CFIT\",\"id\":\"696EFD2B26AB3854B68DCEC847EFCF0A\",\"http_request_total\":5.103368E+8,\"http_success_total\":509903536},{\"db_service_total\":14.0,\"db_schema_total\":43.0,\"http_request_durations_microseconds\":523.82861328125,\"db_abnormal_instance_percent\":0.0,\"http_query_per_seconds\":0.14444445073604584,\"name\":\"cse-ibps\",\"id\":\"A20AD4A461D033B4946D969C3F11B431\",\"http_request_total\":92365557,\"http_success_total\":92365525},{\"db_service_total\":14.0,\"db_schema_total\":43.0,\"http_request_durations_microseconds\":554.4911804199219,\"db_abnormal_instance_percent\":0.0,\"http_query_per_seconds\":0.14266667515039444,\"name\":\"cse-ibps\",\"id\":\"C8E0E2134AD336E8BB0BA074617A58B9\",\"http_request_total\":254006808,\"http_success_total\":254006704},{\"db_service_total\":25.0,\"db_schema_total\":77.0,\"http_request_durations_microseconds\":562.5113525390625,\"db_abnormal_instance_percent\":0.0,\"db_instance_total\":11.0,\"http_query_per_seconds\":0.4035087823867798,\"name\":\"cse-ibps\",\"id\":\"E2106A741D2135E38022A90560E4316F\",\"http_request_total\":629139.5,\"http_success_total\":629139.5}],\"pageSize\":1000}";
  private String parseRule = "[\n" +
          "    {\n" +
          "        \"fieldName\": \"微服务个数\",\n" +
          "        \"fieldExpr\": \"$.datas[0].db_service_total\",\n" +
          "        \"exprType\": \"0\",\n" +
          "        \"expect\": \"50\"\n" +
          "    },\n" +
          "    {\n" +
          "        \"fieldName\": \"契约个数\",\n" +
          "        \"fieldExpr\": \"$.datas[0].db_schema_total\",\n" +
          "        \"exprType\": \"0\",\n" +
          "        \"expect\": \"730\"\n" +
          "    }\n" +
          "]";
  private String countParseRule = "[\n" +
          "    {\n" +
          "        \"fieldName\": \"微服务个数\",\n" +
          "        \"fieldExpr\": \"$.datas[*].db_service_total\",\n" +
          "        \"exprType\": \"1\",\n" +
          "        \"expect\": \"50\"\n" +
          "    } "+
          "]";
  private String sumParseRule = "[\n" +
          "    {\n" +
          "        \"fieldName\": \"微服务个数\",\n" +
          "        \"fieldExpr\": \"$.datas[*].db_service_total\",\n" +
          "        \"exprType\": \"2\",\n" +
          "        \"expect\": \"50\"\n" +
          "    }\n" +
          "]";

  @Test
  public void testExtractNumberResult() {
    List<FieldParseResult> fieldParseResultList = null;
    try {
      fieldParseResultList = taskResultParserUtil.ParseHttpResult(taskInstId,httpResult,parseRule);
    } catch (IOException e) {
      throw new RuntimeException(e);
    }
    assertNotNull(fieldParseResultList);
  }
  @Test
  public void testCountNumberResult() {
    List<FieldParseResult> fieldParseResultList = null;
    try {
      fieldParseResultList = taskResultParserUtil.ParseHttpResult(taskInstId,httpResult,countParseRule);
    } catch (IOException e) {
      throw new RuntimeException(e);
    }
    assertNotNull(fieldParseResultList);
  }
  @Test
  public void testSumNumberResult() {
    List<FieldParseResult> fieldParseResultList = null;
    try {
      fieldParseResultList = taskResultParserUtil.ParseHttpResult(taskInstId,httpResult,sumParseRule);
    } catch (IOException e) {
      throw new RuntimeException(e);
    }
    assertNotNull(fieldParseResultList);
  }


}
